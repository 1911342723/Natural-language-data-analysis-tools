# 飞书网页应用快速开始指南

## 🚀 一键启动

### Windows 系统
双击运行 `run.bat` 文件，脚本会自动完成：
1. 检查 Python 环境
2. 创建虚拟环境
3. 安装依赖包
4. 启动应用服务

### Linux/Mac 系统
```bash
chmod +x run.sh
./run.sh
```

## ⚙️ 配置应用

### 1. 获取飞书应用凭证
1. 访问 [飞书开发者后台](https://open.feishu.cn/app)
2. 创建或选择一个企业自建应用
3. 在"凭证与基础信息"页面复制：
   - **App ID**: cli_xxxxxxxxxxxx
   - **App Secret**: xxxxxxxxxxxxxxxxxxxxxxxx

### 2. 修改配置文件
编辑 `.env` 文件：
```env
APP_ID=你的应用ID
APP_SECRET=你的应用密钥
FEISHU_HOST=https://open.feishu.cn
```

## 🔧 配置飞书开发者后台

### 1. 添加网页应用能力
1. 进入应用详情页
2. 点击"应用能力" → "添加应用能力"
3. 选择"网页应用"

### 2. 配置应用主页
在"应用能力" → "网页应用"中配置：
- **桌面端主页**: `http://127.0.0.1:3000`

### 3. 配置 H5 可信域名
在"安全设置" → "H5 可信域名"中添加：
- `127.0.0.1:3000`

## 📱 访问应用

⚠️ **必须在飞书客户端中打开**

### 方式一：通过工作台
1. 打开飞书客户端
2. 进入"工作台"
3. 找到你的应用并点击

### 方式二：直接访问（开发调试）
1. 在飞书客户端中打开内置浏览器
2. 访问：`http://127.0.0.1:3000`

## ✅ 验证应用

成功运行后，你应该看到：
1. ✅ 鉴权成功提示
2. ✅ 显示当前用户信息（姓名、头像、Open ID）
3. ✅ 可以点击"刷新用户信息"按钮

## 🐛 常见问题

### 问题1：启动失败
**解决方法**：
- 确保已安装 Python 3.7+
- 检查 .env 文件配置是否正确

### 问题2：鉴权失败
**解决方法**：
- 确认在飞书客户端中打开（不是浏览器）
- 检查 H5 可信域名是否配置正确
- 确认 APP_ID 和 APP_SECRET 填写正确

### 问题3：获取用户信息失败
**解决方法**：
- 在开发者后台申请"获取用户信息"权限
- 等待管理员审核通过

## 📚 更多信息

查看完整文档：`README.md`

飞书开放平台：https://open.feishu.cn/

---

祝开发顺利！🎉

